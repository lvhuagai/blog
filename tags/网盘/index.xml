<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>网盘 on CaCl2&#39;s Space</title>
        <link>https://example.com/tags/%E7%BD%91%E7%9B%98/</link>
        <description>Recent content in 网盘 on CaCl2&#39;s Space</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <lastBuildDate>Wed, 25 May 2022 06:50:59 +0000</lastBuildDate><atom:link href="https://example.com/tags/%E7%BD%91%E7%9B%98/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>使用阿里云盘WebDAV协议搭建kodi影视中心</title>
        <link>https://example.com/aliyundrive-webdav-kodi/</link>
        <pubDate>Wed, 25 May 2022 06:50:59 +0000</pubDate>
        
        <guid>https://example.com/aliyundrive-webdav-kodi/</guid>
        <description>&lt;h2 id=&#34;引子&#34;&gt;引子&lt;/h2&gt;
&lt;p&gt;几天前，博主把家里老电脑的硬盘拆了下来，打算做一个局域网NAS系统，存放Kodi使用的影视资源。然而SATA转usb线还未下单，博主就喜提7+3隔离。无意间看到kodi支持WebDAV协议，但之前的COS对象存储方案流量费属实让人肉疼，无意间我在GitHub看到了一个项目，可以将阿里云盘以WebDAV的形式挂载到本地局域网。&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;div class=&#39;github-info-card-description&#39;&amp;gt;
&amp;lt;/div&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;搭配此项目，只要将影视资源保存在阿里云盘，本地的Kodi就可以播放，免去了本地搭建文件服务器这一环节。&lt;/p&gt;
&lt;h2 id=&#34;操作&#34;&gt;操作&lt;/h2&gt;
&lt;h3 id=&#34;下载二进制文件&#34;&gt;下载二进制文件&lt;/h3&gt;
&lt;p&gt;aliyundrive-webdav支持多种架构的设备，可运行在x86，mipsel，arm等多种平台的设备上。&lt;/p&gt;
&lt;p&gt;博主的树莓派已经提前安装好了Kodi，只需要配置阿里云盘在局域网的WebDAV即可。博主打算把这个项目运行在树莓派上，因此在Releases下载已经编译好的二进制文件，ArmV7架构。&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;解压后给予相应权限。&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;程序的命令行用法。&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;h3 id=&#34;获取refresh_token&#34;&gt;获取refresh_token&lt;/h3&gt;
&lt;p&gt;随后我们需要到阿里云盘网页端获取自己账户的refresh_token。&lt;/p&gt;
&lt;p&gt;浏览器登录&lt;a class=&#34;link&#34; href=&#34;https://www.aliyundrive.com/drive/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;阿里云盘&lt;/a&gt;后，在控制台输入&lt;code&gt;JSON.parse(localStorage.token).refresh_token&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;即可获得当前账户的refresh_token。&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;我们也可以手动获取refresh_token。&lt;/p&gt;
&lt;p&gt;登录&lt;a class=&#34;link&#34; href=&#34;https://www.aliyundrive.com/drive/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;阿里云盘&lt;/a&gt;后，可以在开发者工具 -&amp;gt; Application -&amp;gt; Local Storage 中的 &lt;code&gt;token&lt;/code&gt; 字段中找到。&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;h3 id=&#34;开始运行&#34;&gt;开始运行&lt;/h3&gt;
&lt;p&gt;使用ssh连接至树莓派，在二进制文件同一目录下输入指令。&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;将&amp;lt;REFRESH_TOKEN&amp;gt;字段替换为刚刚获取的refresh token即可。运行后如图所示。&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;这时WebDAV服务就已经在本地局域网运行，局域网内设备使用 设备的局域网IP:8080 即可连接对应的WebDAV服务器。在Windows下使用RaiDrive等软件可以将其挂载至文件资源管理器。&lt;/p&gt;
&lt;h3 id=&#34;kodi的连接&#34;&gt;Kodi的连接&lt;/h3&gt;
&lt;p&gt;这时我们将搭载kodi的设备连接至同一局域网，在“视频”选项卡点击“添加视频”选项。&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;点击左侧的浏览按钮。&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;点击添加网络位置。&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;我们选择协议“WebDAV服务器（HTTP）”，服务器地址填写运行上述项目的局域网IP，端口为8080，用户名和密码不需要填写，远程路径自定义即可。设置完成后点击确定。&lt;/p&gt;
&lt;p&gt;完成上述操作后一路确定，我们就可以在kodi中访问远程目录的视频了。但此时视频并不会显示电影名称 海报等元素，只是以视频的形式呈现。下一篇文章会解决这一问题&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
